{% extends "./base_blog.html" %}

{% block title %}{% if post_data %}{{ post_data.title }} | NekwasaR Blog{% else %}The Future of Artificial Intelligence: Transforming Our World | NekwasaR Blog{% endif %}{% endblock %}
{% block fluid_layout %}true{% endblock %}

{% block head_extra %}
    <!-- SEO Meta Tags -->
    <meta name="description" content="{% if post_data %}{{ post_data.excerpt|truncate(160) }}{% else %}Explore how AI is reshaping industries, empowering innovation, and creating unprecedented opportunities for growth and discovery in our rapidly evolving digital landscape.{% endif %}">
    <meta name="author" content="{% if post_data %}{{ post_data.author }}{% else %}NekwasaR{% endif %}">
    <meta name="keywords" content="{% if post_data %}{{ post_data.tags|join(', ') }}{% else %}artificial intelligence, AI, technology, innovation, future, machine learning{% endif %}">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="{% if post_data %}{{ post_data.title }}{% else %}The Future of Artificial Intelligence: Transforming Our World{% endif %}">
    <meta property="og:description" content="{% if post_data %}{{ post_data.excerpt|truncate(160) }}{% else %}Explore how AI is reshaping industries, empowering innovation, and creating unprecedented opportunities for growth and discovery.{% endif %}">
    <meta property="og:image" content="{% if post_data and post_data.featured_image %}{{ post_data.featured_image }}{% else %}https://images.unsplash.com/photo-1677442136019-21780ecad995?w=1200&h=630&fit=crop{% endif %}">
    <meta property="og:url" content="https://nekwasar.com/{% if post_data %}{{ post_data.slug }}{% else %}blog/ai-future-transforming-world{% endif %}">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% if post_data %}{{ post_data.title }}{% else %}The Future of Artificial Intelligence: Transforming Our World{% endif %}">
    <meta name="twitter:description" content="{% if post_data %}{{ post_data.excerpt|truncate(160) }}{% else %}Explore how AI is reshaping industries, empowering innovation, and creating unprecedented opportunities for growth and discovery.{% endif %}">
    <meta name="twitter:image" content="{% if post_data and post_data.featured_image %}{{ post_data.featured_image }}{% else %}https://images.unsplash.com/photo-1677442136019-21780ecad995?w=1200&h=630&fit=crop{% endif %}">
{% endblock %}

{% block content %}
<style>
    /* Minimal container overrides for published layout */
    .section-container {
        max-width: none !important;
        width: 100% !important;
        margin: 0 !important;
        padding: 0 2rem !important;
    }

    /* Ensure main content areas are full width */
    main .section-container,
    section .section-container {
        max-width: none !important;
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    /* Allow base_blog.html fluid layout to work */
    main#route-container[data-fluid="true"] .container {
        max-width: none !important;
        width: 100% !important;
        margin: 0 !important;
        padding-left: 2rem !important;
        padding-right: 2rem !important;
    }

    /* Mobile responsive padding */
    @media (max-width: 768px) {
        main#route-container[data-fluid="true"] .container {
            padding-left: 1rem !important;
            padding-right: 1rem !important;
        }
    }
</style>

    <!-- Hero Section -->
    <section class="relative h-[60vh] sm:h-[70vh] min-h-[400px] sm:min-h-[500px] overflow-hidden">
        <div class="absolute inset-0">
            <img src="{% if post_data and post_data.featured_image %}{{ post_data.featured_image }}{% else %}https://images.unsplash.com/photo-1677442136019-21780ecad995?w=1920&h=1080&fit=crop&crop=center{% endif %}"
                  alt="{% if post_data %}{{ post_data.title }} Banner{% else %}AI and Technology Innovation{% endif %}"
                  class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/70"></div>
        </div>

        <div class="relative z-10 flex items-end h-full">
            <div class="max-w-4xl px-4 sm:px-6 lg:px-8 pb-8 sm:pb-16 w-full">
                <div class="max-w-4xl">
                    <!-- Category Tag -->
                    <div class="inline-flex items-center px-3 py-1 rounded-full bg-purple-600 text-white text-xs font-medium mb-3 sm:mb-4">
                        {% if post_data and post_data.tags %}{{ post_data.tags[0] }}{% else %}Technology{% endif %}
                    </div>

                    <!-- Title -->
                    <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight mb-4 sm:mb-6">
                        {% if post_data %}{{ post_data.title }}{% else %}The Future of Artificial Intelligence: Transforming Our World{% endif %}
                    </h1>

                    <!-- Meta Information -->
                    <div class="flex flex-wrap items-center gap-3 sm:gap-4 text-white/90 text-xs sm:text-sm no-edit">
                        <span class="flex items-center gap-2">
                            <i class="ph-bold ph-user text-xs"></i>
                            By {% if post_data %}{{ post_data.author }}{% else %}NekwasaR{% endif %}
                        </span>
                        <span class="text-white/60 hidden sm:inline">•</span>
                        <span class="flex items-center gap-2">
                            <i class="ph-bold ph-calendar text-xs"></i>
                            {% if post_data and post_data.published_at %}
                                {{ post_data.published_at | strftime('%B %d, %Y') }}
                            {% else %}
                                November 6, 2025
                            {% endif %}
                        </span>
                        <span class="text-white/60 hidden sm:inline">•</span>
                        <span class="flex items-center gap-2">
                            <i class="ph-bold ph-clock text-xs"></i>
                            8 min read
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Engagement Header Area -->
    <section class="bg-gray-50 border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6">
            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4">
                <!-- Engagement Stats -->
                <div class="flex flex-wrap items-center gap-4 sm:gap-6 text-xs sm:text-sm text-gray-600">
                    <span class="flex items-center gap-2">
                        <i class="ph-bold ph-chat-circle text-sm sm:text-base"></i>
                        <span class="hidden sm:inline">{{ post_data.comment_count or 0 }} Comments</span>
                        <span class="sm:hidden">{{ post_data.comment_count or 0 }}</span>
                    </span>
                    <span class="flex items-center gap-2">
                        <i class="ph-bold ph-eye text-sm sm:text-base"></i>
                        <span class="hidden sm:inline">{{ post_data.view_count or 0 }} Views</span>
                        <span class="sm:hidden">{{ post_data.view_count or 0 }}</span>
                    </span>
                    <span class="flex items-center gap-2 like-section" data-post-id="{{ post_data.id or 1 }}">
                        <button onclick="toggleLike()" class="flex items-center gap-2 hover:text-red-500 transition-colors">
                            <i class="ph-bold ph-heart text-sm sm:text-base like-icon"></i>
                            <span class="like-count hidden sm:inline">{{ post_data.like_count or 0 }}</span>
                            <span class="like-count sm:hidden">{{ post_data.like_count or 0 }}</span>
                            <span class="hidden sm:inline">Likes</span>
                        </button>
                    </span>
                    <span class="flex items-center gap-2">
                        <button onclick="openShareModal()" class="flex items-center gap-2 hover:text-purple-600 transition-colors">
                            <i class="ph-bold ph-share-network text-sm sm:text-base"></i>
                            <span class="hidden sm:inline">Share</span>
                        </button>
                    </span>
                </div>

                <!-- Join Conversation Button -->
                <button onclick="scrollToComments()" class="inline-flex items-center gap-2 px-3 sm:px-4 py-2 bg-purple-600 text-white text-xs sm:text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors w-full sm:w-auto justify-center">
                    <i class="ph-bold ph-chat-circle-dots text-sm sm:text-base"></i>
                    <span class="hidden sm:inline">Join the Conversation</span>
                    <span class="sm:hidden">Comment</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Introductory Section -->
    <section class="py-16 bg-white">
        <div class="max-w-4xl px-4 sm:px-6 lg:px-8">
            <!-- Intro Text -->
            <p class="text-lg text-gray-700 leading-relaxed mb-8">
                Artificial Intelligence represents one of the most significant technological breakthroughs of our time.
                As we stand at the precipice of a new digital age, AI is not just transforming how we work and live—it's
                fundamentally reshaping the very fabric of human society. From healthcare to finance, education to
                transportation, the ripple effects of AI innovation are felt across every industry.
            </p>

            <!-- Inline Social Share -->
            <div class="flex items-center gap-4 mb-12">
                <span class="text-sm font-medium text-gray-600">Share:</span>
                <button onclick="shareOnTwitter()" class="p-2 text-gray-600 hover:text-purple-600 transition-colors">
                    <i class="ph-bold ph-twitter-logo text-lg"></i>
                </button>
                <button onclick="shareOnLinkedIn()" class="p-2 text-gray-600 hover:text-purple-700 transition-colors">
                    <i class="ph-bold ph-linkedin-logo text-lg"></i>
                </button>
                <button onclick="shareOnFacebook()" class="p-2 text-gray-600 hover:text-purple-800 transition-colors">
                    <i class="ph-bold ph-facebook-logo text-lg"></i>
                </button>
                <button onclick="shareOnWhatsApp()" class="p-2 text-gray-600 hover:text-green-600 transition-colors">
                    <i class="ph-bold ph-whatsapp-logo text-lg"></i>
                </button>
            </div>

            <!-- Ad Banner #1 -->
            <div class="bg-gray-100 border border-gray-200 rounded-lg p-8 text-center">
                <span class="text-xs font-medium text-gray-500 uppercase tracking-wide">Advertisement</span>
                <div class="mt-2 text-sm text-gray-600">Responsive Ad Banner</div>
            </div>
        </div>
    </section>

    <!-- Main Content Layout -->
    <section class="py-8 sm:py-12 lg:py-16 bg-gray-50">
        <div class="w-full px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8">
                <!-- Left Sidebar -->
                <aside class="lg:col-span-3 order-2 lg:order-1">
                    <div class="sticky top-20 sm:top-24 space-y-6">
                        <!-- Related Posts -->
                        <div class="bg-white rounded-lg border border-gray-200 p-6">
                            <h3 class="text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2">
                                <i class="ph-bold ph-link text-base"></i>
                                Related Posts
                            </h3>
                            <div class="space-y-4">
                                <a href="/blog/ai-revolutionizing-healthcare" class="flex gap-3 group">
                                    <img src="https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=60&h=40&fit=crop" class="w-15 h-10 rounded object-cover" alt="">
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-900 line-clamp-2 group-hover:text-purple-600 transition-colors">How AI is Revolutionizing Healthcare</h4>
                                        <span class="text-xs text-gray-500">12.5k views</span>
                                    </div>
                                </a>
                                <a href="/blog/rise-of-quantum-computing" class="flex gap-3 group">
                                    <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=60&h=40&fit=crop" class="w-15 h-10 rounded object-cover" alt="">
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-900 line-clamp-2 group-hover:text-purple-600 transition-colors">The Rise of Quantum Computing</h4>
                                        <span class="text-xs text-gray-500">8.9k views</span>
                                    </div>
                                </a>
                                <a href="/blog/machine-learning-ethics" class="flex gap-3 group">
                                    <img src="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=60&h=40&fit=crop" class="w-15 h-10 rounded object-cover" alt="">
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-900 line-clamp-2 group-hover:text-purple-600 transition-colors">Machine Learning Ethics</h4>
                                        <span class="text-xs text-gray-500">6.7k views</span>
                                    </div>
                                </a>
                            </div>
                        </div>

                        <!-- Trending Now -->
                        <div class="bg-white rounded-lg border border-gray-200 p-6">
                            <h3 class="text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2">
                                <i class="ph-bold ph-trend-up text-base"></i>
                                Trending Now
                            </h3>
                            <div class="space-y-4">
                                <a href="/blog/ai-changing-finance" class="flex gap-3 group">
                                    <img src="https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=60&h=40&fit=crop" class="w-15 h-10 rounded object-cover" alt="">
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-900 line-clamp-2 group-hover:text-purple-600 transition-colors">How AI is Changing Finance</h4>
                                        <span class="text-xs text-gray-500">2.1k views</span>
                                    </div>
                                </a>
                                <a href="/blog/crypto-market-2025" class="flex gap-3 group">
                                    <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=60&h=40&fit=crop" class="w-15 h-10 rounded object-cover" alt="">
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-900 line-clamp-2 group-hover:text-purple-600 transition-colors">Crypto Market Analysis 2025</h4>
                                        <span class="text-xs text-gray-500">1.8k views</span>
                                    </div>
                                </a>
                                <a href="/blog/real-estate-trends" class="flex gap-3 group">
                                    <img src="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=60&h=40&fit=crop" class="w-15 h-10 rounded object-cover" alt="">
                                    <div>
                                        <h4 class="text-sm font-medium text-gray-900 line-clamp-2 group-hover:text-purple-600 transition-colors">Real Estate Trends</h4>
                                        <span class="text-xs text-gray-500">1.5k views</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </aside>

                <!-- Main Column -->
                <main class="lg:col-span-6 order-1 lg:order-2">
                    <article class="bg-white rounded-lg border border-gray-200 overflow-hidden">
                        <div class="p-6">
                            <h2 class="text-2xl font-bold text-gray-900 mb-6">The Evolution of Wealth in 2025</h2>
                            <p class="text-lg text-gray-700 leading-relaxed mb-6">
                                The billionaire landscape has undergone significant transformation. Technology, renewable energy, and digital innovation now dominate the narratives shaping the global economy.
                            </p>
                            <div class="bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg p-8 mb-8">
                                <h3 class="text-2xl font-bold mb-3">The Power of Visual Storytelling</h3>
                                <p class="text-lg leading-relaxed opacity-90 mb-5">
                                    Video content has revolutionized how we communicate complex ideas. Here we dive deep into the methodologies that drive innovation.
                                </p>
                            </div>
     
                            <div class="prose prose-lg max-w-full">
                                <h3 id="vision" class="text-2xl font-semibold text-gray-900">The Visionary's Perspective</h3>
                                <p class="text-lg text-gray-700 leading-relaxed">
                                    Innovation begins with vision—the ability to see beyond the present constraints and imagine new possibilities.
                                </p>
                                <blockquote class="border-l-4 border-purple-500 pl-6 italic text-gray-700 my-6">
                                    "Innovation is about understanding people and solving their real problems in ways they've never imagined."
                                </blockquote>
                                <h3 class="text-2xl font-semibold text-gray-900 mt-8">Innovation in Action</h3>
                                <p class="text-lg text-gray-700 leading-relaxed">
                                    We studied teams that bring AI, deep tech, and human insight together to drive meaningful change.
                                </p>
                                <h3 class="text-2xl font-semibold text-gray-900 mt-8">The Human Element</h3>
                                <p class="text-lg text-gray-700 leading-relaxed mb-6">
                                    High-performance teams combine psychological safety with a relentless focus on purpose.
                                </p>
     
                                <div class="bg-purple-50 border border-purple-200 rounded-lg p-6 my-10 text-center">
                                    <i class="ph-bold ph-chat-circle-dots text-2xl text-purple-600 mb-3 block"></i>
                                    <h3 class="text-lg font-semibold text-gray-900 mb-2">What do you think so far?</h3>
                                    <p class="text-gray-600 mb-4">Share your thoughts on the billionaire rankings</p>
                                    <button onclick="scrollToComments()" class="inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors">
                                        Leave a Comment
                                    </button>
                                </div>
     
                                <div class="bg-gray-100 border border-gray-200 rounded-lg p-8 text-center my-12">
                                    <span class="text-xs font-medium text-gray-500 uppercase tracking-wide">Advertisement</span>
                                    <div class="mt-2 text-sm text-gray-600">Mid-Article Banner Ad</div>
                                </div>
     
                                <h3 class="text-xl font-semibold text-gray-900 mt-4">1. Elon Musk – $285 Billion</h3>
                                <p class="text-lg text-gray-700 leading-relaxed mb-6">
                                    Musk continues to shepherd electric vehicles, space exploration, and AI research, leveraging bold narratives to keep communities aligned with his grand vision of a multiplanetary, automated future.
                                </p>
                                <h3 class="text-xl font-semibold text-gray-900 mb-3">2. Jeff Bezos – $195 Billion</h3>
                                <p class="text-lg text-gray-700 leading-relaxed mb-6">
                                    While building Blue Origin, Bezos keeps Amazon's logistics automation and cloud infrastructure tightly focused, narrating every innovation as a customer-first evolution.
                                </p>
                                <h3 class="text-xl font-semibold text-gray-900 mb-3">3. Bernard Arnault – $180 Billion</h3>
                                <p class="text-lg text-gray-700 leading-relaxed mb-6">
                                    Arnault blends artistic direction with data-backed brand strategy, proving that culturally rich storytelling and innovation-driven craftsmanship can lift entire industries.
                                </p>
                            </div>
     
                            <div class="bg-gray-50 border border-gray-200 rounded-lg p-8 my-12">
                                <h2 class="text-2xl font-bold text-gray-900 mb-4">The Future of Billionaire Wealth</h2>
                                <p class="text-lg text-gray-700 leading-relaxed mb-6">
                                    As we look toward the future, several trends are likely to shape the billionaire landscape. Technology innovation, sustainable energy, and digital transformation will continue to create new opportunities for wealth creation.
                                </p>
     
                                <div class="bg-white border border-gray-200 rounded-lg p-6 mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Key Takeaways</h3>
                                    <ul class="space-y-2 text-sm text-gray-700">
                                        <li class="flex items-start gap-2">
                                            <span class="text-purple-600 mt-1">•</span>
                                            Technology and innovation remain the primary drivers of wealth creation.
                                        </li>
                                        <li class="flex items-start gap-2">
                                            <span class="text-blue-600 mt-1">•</span>
                                            Diversification across multiple industries provides stability.
                                        </li>
                                        <li class="flex items-start gap-2">
                                            <span class="text-blue-600 mt-1">•</span>
                                            Strategic philanthropy can enhance both social impact and financial strategy.
                                        </li>
                                        <li class="flex items-start gap-2">
                                            <span class="text-blue-600 mt-1">•</span>
                                            Adaptability to market changes is crucial for long-term success.
                                        </li>
                                    </ul>
                                </div>
     
                                <div class="text-center">
                                    <h4 class="text-lg font-semibold text-gray-900 mb-4">Share this article</h4>
                                    <div class="flex justify-center gap-3 flex-wrap">
                                        <button onclick="shareOnTwitter()" class="inline-flex items-center gap-2 px-4 py-2 bg-purple-500 text-white text-sm font-medium rounded-lg hover:bg-purple-600 transition-colors">
                                            <i class="ph-bold ph-twitter-logo text-base"></i>
                                            Twitter
                                        </button>
                                        <button onclick="shareOnLinkedIn()" class="inline-flex items-center gap-2 px-4 py-2 bg-purple-700 text-white text-sm font-medium rounded-lg hover:bg-purple-800 transition-colors">
                                            <i class="ph-bold ph-linkedin-logo text-base"></i>
                                            LinkedIn
                                        </button>
                                        <button onclick="shareOnFacebook()" class="inline-flex items-center gap-2 px-4 py-2 bg-purple-800 text-white text-sm font-medium rounded-lg hover:bg-purple-900 transition-colors">
                                            <i class="ph-bold ph-facebook-logo text-base"></i>
                                            Facebook
                                        </button>
                                        <button onclick="shareOnWhatsApp()" class="inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors">
                                            <i class="ph-bold ph-whatsapp-logo text-base"></i>
                                            WhatsApp
                                        </button>
                                        <button onclick="copyLink()" class="inline-flex items-center gap-2 px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors">
                                            <i class="ph-bold ph-copy text-base"></i>
                                            Copy Link
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>

                    <!-- Comments Section -->
                    <section id="comments" class="bg-white rounded-lg border border-gray-200 mt-6 no-edit">
                        <div class="p-6">
                            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-5">
                                <h2 class="text-xl font-bold text-gray-900">Join the Discussion</h2>
                                <span class="bg-purple-600 text-white px-3 py-1 rounded-full text-xs font-semibold">{{ post_data.comment_count or 0 }} Comments</span>
                            </div>
                            <textarea class="w-full border border-gray-300 rounded-lg p-3 text-sm sm:text-base comment-textarea" rows="4" placeholder="Share your thoughts..."></textarea>
                            <div class="text-right mt-3">
                                <button onclick="openCommentModal()" class="px-4 py-2 bg-purple-600 text-white text-sm rounded-lg hover:bg-purple-700 transition-colors">
                                    Post Comment
                                </button>
                            </div>
                            <div class="space-y-4 sm:space-y-6 mt-6" id="dynamic-comments-list">
                                <!-- Comments will be loaded here dynamically -->
                            </div>
                        </div>
                    </section>
                </main>

                <!-- Right Sidebar -->
                <aside class="lg:col-span-3 order-3 no-edit">
                    <div class="sticky top-20 space-y-6">
                        <!-- Floating Social Icons -->
                        <div class="flex flex-col gap-3 mb-8">
                            <a href="#" onclick="shareOnTwitter()" class="flex items-center justify-center w-12 h-12 bg-white border border-gray-200 rounded-full text-gray-600 hover:text-purple-600 hover:border-purple-600 transition-colors shadow-sm">
                                <i class="ph-bold ph-twitter-logo text-lg"></i>
                            </a>
                            <a href="#" onclick="shareOnLinkedIn()" class="flex items-center justify-center w-12 h-12 bg-white border border-gray-200 rounded-full text-gray-600 hover:text-purple-700 hover:border-purple-700 transition-colors shadow-sm">
                                <i class="ph-bold ph-linkedin-logo text-lg"></i>
                            </a>
                            <a href="#" onclick="shareOnFacebook()" class="flex items-center justify-center w-12 h-12 bg-white border border-gray-200 rounded-full text-gray-600 hover:text-purple-800 hover:border-purple-800 transition-colors shadow-sm">
                                <i class="ph-bold ph-facebook-logo text-lg"></i>
                            </a>
                            <a href="#" onclick="shareOnWhatsApp()" class="flex items-center justify-center w-12 h-12 bg-white border border-gray-200 rounded-full text-gray-600 hover:text-green-600 hover:border-green-600 transition-colors shadow-sm">
                                <i class="ph-bold ph-whatsapp-logo text-lg"></i>
                            </a>
                        </div>

                        <!-- Newsletter Signup -->
                        <div class="bg-white rounded-lg border border-gray-200 p-6">
                            <h4 class="text-sm font-semibold text-gray-900 mb-3">Stay Updated</h4>
                            <p class="text-xs text-gray-600 mb-4">Get the latest insights on technology and wealth building.</p>
                            <input type="email" placeholder="Your email address" class="w-full px-3 py-2 border border-gray-300 rounded-lg mb-3 text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            <button class="w-full px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors">
                                Subscribe
                            </button>
                        </div>

                        <!-- Follow Button -->
                        <div class="bg-white rounded-lg border border-gray-200 p-6">
                            <h4 class="text-sm font-semibold text-gray-900 mb-3">Follow NekwasaR</h4>
                            <button onclick="openFollowModal()" class="w-full flex items-center justify-center gap-2 px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors">
                                <i class="ph-bold ph-user-plus text-base"></i>
                                Follow
                            </button>
                        </div>

                        <!-- Ad Widget -->
                        <div class="bg-gray-100 border border-gray-200 rounded-lg p-4 text-center editable">
                            <span class="text-xs font-medium text-gray-500 uppercase tracking-wide">Sponsored</span>
                            <p class="text-sm text-gray-600 mt-2">Sidebar Ad</p>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </section>

{% endblock %}

{% block footer_content %}
    <div class="footer-main">
        <div class="footer-brand">
            <div class="footer-logo">NekwasaR</div>
            <p class="footer-description">Exploring the frontiers of technology, innovation, and digital transformation.</p>
            <div class="footer-social">
                <a href="https://www.reddit.com/user/nekwasar/" class="social-link" target="_blank"><i class="ph-bold ph-reddit-logo"></i></a>
                <a href="https://www.facebook.com/nekwasar" class="social-link" target="_blank"><i class="ph-bold ph-facebook-logo"></i></a>
                <a href="https://www.instagram.com/nekwasar" class="social-link" target="_blank"><i class="ph-bold ph-instagram-logo"></i></a>
                <a href="https://wa.me/2348164806578" class="social-link" target="_blank"><i class="ph-bold ph-whatsapp-logo"></i></a>
                <a href="https://x.com/nekwasar" class="social-link" target="_blank"><i class="ph-bold ph-x-logo"></i></a>
            </div>
        </div>
        <div class="footer-links">
            <div class="link-column">
                <h4>PAGES</h4>
                <a href="#technology">Technology</a>
                <a href="#innovation">Innovation</a>
                <a href="#business">Business</a>
                <a href="#others">Others</a>
            </div>
            <div class="link-column">
                <h4>LEGAL & PRIVACY</h4>
                <a href="#copyright">Copyright</a>
                <a href="#disclaimer">Disclaimer</a>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_scripts %}
<script>
(function() {
    // Global variables
    let currentPostId = null;
    let replyToCommentId = null;

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        currentPostId = getPostIdFromURL();
        if (currentPostId) {
            loadComments(currentPostId);
            setupCommentForm();
            checkLikeStatus(currentPostId);
        }
    });

    // Get post ID from URL
    function getPostIdFromURL() {
        const path = window.location.pathname;
        const match = path.match(/^\/blog\/(\d+)/);
        return match ? parseInt(match[1]) : (window.postData?.id || 1);
    }

    // Setup comment form
    function setupCommentForm() {
        const textarea = document.querySelector('.comment-textarea');
        const submitBtn = document.querySelector('button[onclick="openCommentModal()"]');
        
        if (textarea && submitBtn) {
            submitBtn.onclick = function(e) {
                e.preventDefault();
                openCommentModal();
            };
        }
    }

    // Dynamic Comments Loading
    async function loadComments(postId) {
        try {
            const commentsContainer = document.getElementById('dynamic-comments-list');
            if (!commentsContainer) return;

            // Show loading state
            commentsContainer.innerHTML = '<div class="text-center py-8"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"></div><p class="text-gray-500 mt-2">Loading comments...</p></div>';

            const response = await fetch(`/api/blogs/posts/${postId}/comments-tree`);
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const data = await response.json();
            
            commentsContainer.innerHTML = '';

            if (data.comments && data.comments.length > 0) {
                data.comments.forEach(comment => {
                    const commentHtml = createCommentHTML(comment);
                    commentsContainer.appendChild(commentHtml);
                });
            } else {
                commentsContainer.innerHTML = '<div class="text-center py-8 text-gray-500"><i class="ph-bold ph-chat-circle text-4xl mb-4"></i><p>No comments yet. Be the first to share your thoughts!</p></div>';
            }
        } catch (error) {
            console.error('Error loading comments:', error);
            const commentsContainer = document.getElementById('dynamic-comments-list');
            if (commentsContainer) {
                commentsContainer.innerHTML = '<div class="text-center py-8 text-red-500"><i class="ph-bold ph-warning-circle text-4xl mb-4"></i><p>Failed to load comments. Please try again later.</p></div>';
            }
        }
    }

    function createCommentHTML(comment) {
        const commentDiv = document.createElement('div');
        commentDiv.className = 'flex gap-3 sm:gap-4 comment-item';
        commentDiv.setAttribute('data-comment-id', comment.id);

        const isReply = comment.parent_id && comment.parent_id !== null;
        if (isReply) {
            commentDiv.classList.add('ml-8', 'sm:ml-12');
        }

        commentDiv.innerHTML = `
            <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full flex-shrink-0 bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center text-white font-semibold text-xs sm:text-sm">
                ${(comment.author || 'A').charAt(0).toUpperCase()}
            </div>
            <div class="flex-1 min-w-0">
                <div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mb-2">
                    <span class="font-semibold text-gray-900 text-sm sm:text-base">${escapeHtml(comment.author || 'Anonymous')}</span>
                    <span class="text-gray-500 text-xs sm:text-sm">${formatDate(comment.created_at)}</span>
                </div>
                <p class="text-gray-700 mb-3 text-sm sm:text-base">${escapeHtml(comment.content || '')}</p>
                <div class="flex items-center gap-3 sm:gap-4">
                    <button onclick="toggleCommentLike(${comment.id})" class="flex items-center gap-1 text-xs sm:text-sm text-gray-600 hover:text-red-500 transition-colors comment-like-btn">
                        <i class="ph-bold ph-heart text-xs"></i>
                        <span class="comment-like-count">0</span>
                    </button>
                    <button onclick="replyToComment(${comment.id})" class="text-xs sm:text-sm text-gray-600 hover:text-gray-900 transition-colors">Reply</button>
                </div>
                ${comment.replies && comment.replies.length > 0 ? 
                    `<div class="mt-4 space-y-4">${comment.replies.map(reply => createReplyHTML(reply)).join('')}</div>` : 
                    ''
                }
            </div>
        `;

        return commentDiv;
    }

    function createReplyHTML(reply) {
        return `
            <div class="flex gap-3 sm:gap-4 comment-item" data-comment-id="${reply.id}">
                <div class="w-6 h-6 sm:w-8 sm:h-8 rounded-full flex-shrink-0 bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold text-xs">
                    ${(reply.author || 'A').charAt(0).toUpperCase()}
                </div>
                <div class="flex-1 min-w-0">
                    <div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mb-2">
                        <span class="font-semibold text-gray-900 text-sm">${escapeHtml(reply.author || 'Anonymous')}</span>
                        <span class="text-gray-500 text-xs">${formatDate(reply.created_at)}</span>
                    </div>
                    <p class="text-gray-700 mb-2 text-sm">${escapeHtml(reply.content || '')}</p>
                    <div class="flex items-center gap-3">
                        <button onclick="toggleCommentLike(${reply.id})" class="flex items-center gap-1 text-xs text-gray-600 hover:text-red-500 transition-colors comment-like-btn">
                            <i class="ph-bold ph-heart text-xs"></i>
                            <span class="comment-like-count">0</span>
                        </button>
                    </div>
                </div>
            </div>
        `;
    }

    function formatDate(dateString) {
        if (!dateString) return 'Just now';
        
        const date = new Date(dateString);
        const now = new Date();
        const diffMs = now - date;
        const diffHours = diffMs / (1000 * 60 * 60);

        if (diffHours < 1) {
            const diffMins = Math.floor(diffMs / (1000 * 60));
            return diffMins <= 1 ? 'Just now' : `${diffMins} minute${diffMins > 1 ? 's' : ''} ago`;
        } else if (diffHours < 24) {
            const hours = Math.floor(diffHours);
            return `${hours} hour${hours > 1 ? 's' : ''} ago`;
        } else {
            const days = Math.floor(diffHours / 24);
            if (days < 7) {
                return `${days} day${days > 1 ? 's' : ''} ago`;
            }
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        }
    }

    function escapeHtml(text) {
        if (!text) return '';
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    // Comment submission
    function openCommentModal() {
        const textarea = document.querySelector('.comment-textarea');
        const commentText = textarea ? textarea.value.trim() : '';

        if (!commentText) {
            showNotification('Please write a comment before submitting.', 'warning');
            if (textarea) textarea.focus();
            return;
        }

        // Store comment text and show modal
        window.pendingComment = commentText;
        
        // Simple inline modal
        const modal = createInlineModal();
        document.body.appendChild(modal);
    }

    function createInlineModal() {
        const modal = document.createElement('div');
        modal.className = 'fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4';
        modal.innerHTML = `
            <div class="bg-white rounded-lg shadow-xl max-w-md w-full p-6">
                <h3 class="text-lg font-semibold mb-4">Add Your Comment</h3>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Name *</label>
                        <input type="text" id="commentName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Your name">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Email (optional)</label>
                        <input type="email" id="commentEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="your@email.com">
                    </div>
                </div>
                <div class="flex gap-3 mt-6">
                    <button onclick="closeCommentModal()" class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">Cancel</button>
                    <button onclick="submitComment()" class="flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors">Post Comment</button>
                </div>
            </div>
        `;
        
        modal.onclick = function(e) {
            if (e.target === modal) {
                closeCommentModal();
            }
        };
        
        return modal;
    }

    function closeCommentModal() {
        const modal = document.querySelector('.fixed.inset-0.bg-black\/50');
        if (modal) {
            modal.remove();
        }
        delete window.pendingComment;
    }

    async function submitComment() {
        const name = document.getElementById('commentName').value.trim();
        const email = document.getElementById('commentEmail').value.trim();
        const content = window.pendingComment;

        if (!name) {
            showNotification('Please enter your name.', 'warning');
            return;
        }

        if (!content) {
            showNotification('No comment content found.', 'error');
            return;
        }

        try {
            // Show loading state
            const submitBtn = document.querySelector('button[onclick="submitComment()"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Posting...';
            submitBtn.disabled = true;

            const commentData = {
                author_name: name,
                author_email: email || null,
                content: content,
                parent_id: replyToCommentId
            };

            const response = await fetch(`/api/blogs/posts/${currentPostId}/comments`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(commentData)
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const result = await response.json();
            
            showNotification('Comment submitted successfully! It will be visible after moderation.', 'success');
            
            // Clear form and close modal
            const textarea = document.querySelector('.comment-textarea');
            if (textarea) textarea.value = '';
            closeCommentModal();
            
            // Reload comments
            setTimeout(() => {
                loadComments(currentPostId);
            }, 1000);
            
        } catch (error) {
            console.error('Error submitting comment:', error);
            showNotification('Failed to submit comment. Please try again.', 'error');
        } finally {
            // Reset button state
            const submitBtn = document.querySelector('button[onclick="submitComment()"]');
            if (submitBtn) {
                submitBtn.textContent = 'Post Comment';
                submitBtn.disabled = false;
            }
        }
    }

    // Reply functionality
    function replyToComment(commentId) {
        replyToCommentId = commentId;
        const textarea = document.querySelector('.comment-textarea');
        if (textarea) {
            textarea.placeholder = `Replying to comment...`;
            textarea.focus();
            showNotification('Replying to comment. Enter your reply and click "Post Comment".', 'info');
        }
    }

    // Like functionality
    async function toggleCommentLike(commentId) {
        try {
            // For now, just toggle UI state
            const commentItem = document.querySelector(`[data-comment-id="${commentId}"]`);
            const likeBtn = commentItem.querySelector('.comment-like-btn');
            const likeIcon = likeBtn.querySelector('i');
            const likeCount = commentItem.querySelector('.comment-like-count');

            const isLiked = likeIcon.classList.contains('text-red-500');
            const currentCount = parseInt(likeCount.textContent) || 0;
            const newCount = isLiked ? currentCount - 1 : currentCount + 1;

            // Toggle visual state
            if (isLiked) {
                likeIcon.classList.remove('text-red-500', 'ph-fill');
                likeIcon.classList.add('ph-bold');
            } else {
                likeIcon.classList.add('text-red-500', 'ph-fill');
                likeIcon.classList.remove('ph-bold');
            }

            likeCount.textContent = newCount;

            // Store in localStorage for now (could be enhanced to call backend)
            const likedComments = JSON.parse(localStorage.getItem('likedComments') || '[]');
            if (isLiked) {
                const index = likedComments.indexOf(commentId.toString());
                if (index > -1) likedComments.splice(index, 1);
            } else {
                likedComments.push(commentId.toString());
            }
            localStorage.setItem('likedComments', JSON.stringify(likedComments));

            showNotification(isLiked ? 'Comment unliked' : 'Comment liked', 'success');
            
        } catch (error) {
            console.error('Error toggling comment like:', error);
            showNotification('Failed to like comment. Please try again.', 'error');
        }
    }

    // Notification system
    function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg transform transition-all duration-300 translate-x-full`;
        
        const colors = {
            success: 'bg-green-500 text-white',
            error: 'bg-red-500 text-white',
            warning: 'bg-yellow-500 text-white',
            info: 'bg-blue-500 text-white'
        };
        
        notification.classList.add(...colors[type].split(' '));
        notification.textContent = message;
        
        document.body.appendChild(notification);
        
        // Animate in
        setTimeout(() => {
            notification.classList.remove('translate-x-full');
        }, 100);
        
        // Auto remove
        setTimeout(() => {
            notification.classList.add('translate-x-full');
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 300);
        }, 3000);
    }

    // Make functions global for button clicks
    window.loadComments = loadComments;
    window.openCommentModal = openCommentModal;
    window.closeCommentModal = closeCommentModal;
    window.submitComment = submitComment;
    window.toggleCommentLike = toggleCommentLike;
    window.replyToComment = replyToComment;
    
    // Scroll to comments section
    window.scrollToComments = function() {
        const commentsSection = document.getElementById('comments');
        if (commentsSection) {
            commentsSection.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
            // Focus on the comment textarea after scrolling
            setTimeout(() => {
                const textarea = document.querySelector('.comment-textarea');
                if (textarea) {
                    textarea.focus();
                }
            }, 800);
        } else {
            showNotification('Comments section not found.', 'error');
        }
    };

    // Share modal functionality
    window.openShareModal = function() {
        const modal = document.getElementById('share-modal');
        if (modal) {
            modal.classList.add('show');
            document.addEventListener('keydown', handleEscapeKey);
        }
    };

    window.closeShareModal = function() {
        const modal = document.getElementById('share-modal');
        if (modal) {
            modal.classList.remove('show');
            document.removeEventListener('keydown', handleEscapeKey);
        }
    };

    function handleEscapeKey(event) {
        if (event.key === 'Escape') {
            closeShareModal();
        }
    }

    // Initialize modal event listeners
    document.addEventListener('DOMContentLoaded', function() {
        const modal = document.getElementById('share-modal');
        const overlay = modal ? modal.querySelector('.share-modal__overlay') : null;
        const closeBtn = document.getElementById('share-modal-close');
        const copyBtn = document.getElementById('copy-link-btn');

        if (overlay) {
            // Close on overlay click
            overlay.addEventListener('click', closeShareModal);
        }

        if (closeBtn) {
            closeBtn.addEventListener('click', closeShareModal);
        }

        if (copyBtn) {
            copyBtn.addEventListener('click', function() {
                const url = window.location.href;
                const originalText = copyBtn.querySelector('.btn-caption').textContent;

                // Try modern clipboard API first
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(url).then(function() {
                        copyBtn.querySelector('.btn-caption').textContent = 'Copied!';
                        copyBtn.classList.add('success');
                        setTimeout(function() {
                            copyBtn.querySelector('.btn-caption').textContent = originalText;
                            copyBtn.classList.remove('success');
                        }, 2000);
                    }).catch(function(err) {
                        console.error('Failed to copy: ', err);
                        fallbackCopyTextToClipboard(url, copyBtn, originalText);
                    });
                } else {
                    // Fallback for older browsers
                    fallbackCopyTextToClipboard(url, copyBtn, originalText);
                }
            });
        }
    });

    function fallbackCopyTextToClipboard(text, button, originalText) {
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.position = 'fixed';
        textArea.style.left = '-999999px';
        textArea.style.top = '-999999px';
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();

        try {
            const successful = document.execCommand('copy');
            if (successful) {
                button.querySelector('.btn-caption').textContent = 'Copied!';
                button.classList.add('success');
                setTimeout(function() {
                    button.querySelector('.btn-caption').textContent = originalText;
                    button.classList.remove('success');
                }, 2000);
            } else {
                showNotification('Failed to copy link. Please copy manually.', 'error');
            }
        } catch (err) {
            console.error('Fallback copy failed: ', err);
            showNotification('Failed to copy link. Please copy manually.', 'error');
        }

        document.body.removeChild(textArea);
    }

    // Generate user identifier for likes
    function getUserIdentifier() {
        let identifier = localStorage.getItem('userIdentifier');
        if (!identifier) {
            // Create a simple identifier based on timestamp and random string
            identifier = 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            localStorage.setItem('userIdentifier', identifier);
        }
        return identifier;
    }

    // Check like status on page load
    async function checkLikeStatus(postId) {
        try {
            const userIdentifier = getUserIdentifier();
            const response = await fetch(`/api/blogs/posts/${postId}/likes/status?user_identifier=${encodeURIComponent(userIdentifier)}`);
            if (response.ok) {
                const data = await response.json();
                updateLikeUI(data.liked);
            }
        } catch (error) {
            console.error('Error checking like status:', error);
        }
    }

    // Update like UI based on status
    function updateLikeUI(isLiked) {
        const likeIcon = document.querySelector('.like-icon');
        if (likeIcon) {
            if (isLiked) {
                likeIcon.classList.add('text-red-500', 'ph-fill');
                likeIcon.classList.remove('ph-bold');
            } else {
                likeIcon.classList.remove('text-red-500', 'ph-fill');
                likeIcon.classList.add('ph-bold');
            }
        }
    }

    // Like functionality for post
    window.toggleLike = async function() {
        const likeSection = document.querySelector('.like-section');
        const likeIcon = document.querySelector('.like-icon');
        const likeCount = document.querySelector('.like-count');
        const postId = likeSection ? likeSection.dataset.postId : null;

        if (!postId) {
            showNotification('Post ID not found', 'error');
            return;
        }

        const userIdentifier = getUserIdentifier();
        const isCurrentlyLiked = likeIcon.classList.contains('text-red-500');

        try {
            let response;
            if (isCurrentlyLiked) {
                // Unlike the post
                response = await fetch(`/api/blogs/posts/${postId}/likes?user_identifier=${encodeURIComponent(userIdentifier)}`, {
                    method: 'DELETE'
                });
            } else {
                // Like the post
                response = await fetch(`/api/blogs/posts/${postId}/likes`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        user_identifier: userIdentifier
                    })
                });
            }

            if (response.ok) {
                // Update UI immediately for better UX
                updateLikeUI(!isCurrentlyLiked);

                // Update count from server response or calculate locally
                const currentCount = parseInt(likeCount.textContent) || 0;
                const newCount = isCurrentlyLiked ? currentCount - 1 : currentCount + 1;
                likeCount.textContent = Math.max(0, newCount);

                // Show notification
                showNotification(isCurrentlyLiked ? 'Post unliked' : 'Post liked', 'success');
            } else {
                const errorData = await response.json();
                showNotification(errorData.detail || 'Failed to update like', 'error');
            }
        } catch (error) {
            console.error('Error toggling like:', error);
            showNotification('Failed to update like. Please try again.', 'error');
        }
    };

    // Follow modal functionality (basic implementation)
    window.openFollowModal = function() {
        alert('Follow functionality coming soon!');
    };
    
})();
</script>
{% endblock %}