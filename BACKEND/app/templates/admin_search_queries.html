<!-- Search Query Analysis -->
<div class="search-queries">
    <div class="analytics-header">
        <h1 class="page-title">Search Query Analysis</h1>
        <p class="page-subtitle">Analyze search patterns and query performance</p>
    </div>

    <!-- Query Stats Overview -->
    <div class="query-stats">
        <div class="stat-card">
            <div class="stat-icon">
                <i class="ph-bold ph-hash"></i>
            </div>
            <div class="stat-content">
                <div class="stat-value" id="uniqueQueries">0</div>
                <div class="stat-label">Unique Queries</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">
                <i class="ph-bold ph-barcode"></i>
            </div>
            <div class="stat-content">
                <div class="stat-value" id="avgQueryLength">0</div>
                <div class="stat-label">Avg. Query Length</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">
                <i class="ph-bold ph-trend-up"></i>
            </div>
            <div class="stat-content">
                <div class="stat-value" id="popularQuery">--</div>
                <div class="stat-label">Most Popular Query</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">
                <i class="ph-bold ph-clock"></i>
            </div>
            <div class="stat-content">
                <div class="stat-value" id="peakSearchHour">0:00</div>
                <div class="stat-label">Peak Search Hour</div>
            </div>
        </div>
    </div>

    <!-- Query Analysis Tabs -->
    <div class="query-tabs">
        <div class="tabs-header">
            <button class="tab-btn active" data-tab="popular">Popular Queries</button>
            <button class="tab-btn" data-tab="trending">Trending</button>
            <button class="tab-btn" data-tab="no-results">No Results</button>
            <button class="tab-btn" data-tab="long-tail">Long-tail</button>
            <button class="tab-btn" data-tab="abandoned">Abandoned</button>
        </div>

        <div class="tabs-content">
            <!-- Popular Queries Tab -->
            <div class="tab-content active" id="popular-tab">
                <div class="query-list-header">
                    <h3>Most Searched Queries</h3>
                    <div class="query-filters">
                        <select id="popularTimeRange">
                            <option value="7d">Last 7 days</option>
                            <option value="30d">Last 30 days</option>
                            <option value="90d">Last 90 days</option>
                            <option value="1y">Last year</option>
                        </select>
                    </div>
                </div>
                <div class="query-list" id="popularQueries">
                    <!-- Popular queries will be populated here -->
                </div>
            </div>

            <!-- Trending Tab -->
            <div class="tab-content" id="trending-tab">
                <div class="query-list-header">
                    <h3>Rising Search Queries</h3>
                    <div class="query-filters">
                        <select id="trendingPeriod">
                            <option value="24h">Last 24 hours</option>
                            <option value="7d">Last 7 days</option>
                            <option value="30d">Last 30 days</option>
                        </select>
                    </div>
                </div>
                <div class="query-list" id="trendingQueries">
                    <!-- Trending queries will be populated here -->
                </div>
            </div>

            <!-- No Results Tab -->
            <div class="tab-content" id="no-results-tab">
                <div class="query-list-header">
                    <h3>Queries with No Results</h3>
                    <div class="query-actions">
                        <button class="action-btn" id="exportNoResultsBtn">
                            <i class="ph-bold ph-download"></i>
                            Export
                        </button>
                    </div>
                </div>
                <div class="query-list" id="noResultsQueries">
                    <!-- No results queries will be populated here -->
                </div>
            </div>

            <!-- Long-tail Tab -->
            <div class="tab-content" id="long-tail-tab">
                <div class="query-list-header">
                    <h3>Long-tail Search Queries</h3>
                    <div class="query-filters">
                        <input type="number" id="minWords" placeholder="Min words" value="4" min="3" max="10">
                    </div>
                </div>
                <div class="query-list" id="longTailQueries">
                    <!-- Long-tail queries will be populated here -->
                </div>
            </div>

            <!-- Abandoned Tab -->
            <div class="tab-content" id="abandoned-tab">
                <div class="query-list-header">
                    <h3>Abandoned Search Queries</h3>
                    <div class="query-filters">
                        <select id="abandonedType">
                            <option value="short">Very Short (1-2 chars)</option>
                            <option value="incomplete">Incomplete</option>
                            <option value="typos">Potential Typos</option>
                        </select>
                    </div>
                </div>
                <div class="query-list" id="abandonedQueries">
                    <!-- Abandoned queries will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Query Insights -->
    <div class="query-insights">
        <div class="insight-card">
            <div class="insight-header">
                <h3>Query Length Distribution</h3>
            </div>
            <div class="insight-chart">
                <canvas id="queryLengthChart"></canvas>
            </div>
        </div>

        <div class="insight-card">
            <div class="insight-header">
                <h3>Search Intent Analysis</h3>
            </div>
            <div class="intent-breakdown" id="searchIntent">
                <!-- Search intent data will be populated here -->
            </div>
        </div>

        <div class="insight-card">
            <div class="insight-header">
                <h3>Query Categories</h3>
            </div>
            <div class="category-breakdown" id="queryCategories">
                <!-- Query categories will be populated here -->
            </div>
        </div>
    </div>

    <!-- Query Performance -->
    <div class="query-performance">
        <div class="section-header">
            <h3>Query Performance Analysis</h3>
        </div>
        <div class="performance-grid">
            <div class="performance-card">
                <div class="performance-header">
                    <h4>Top Performing Queries</h4>
                    <p>Queries with highest click-through rates</p>
                </div>
                <div class="performance-list" id="topPerformingQueries">
                    <!-- Top performing queries will be populated here -->
                </div>
            </div>

            <div class="performance-card">
                <div class="performance-header">
                    <h4>Underperforming Queries</h4>
                    <p>Queries with low engagement</p>
                </div>
                <div class="performance-list" id="underperformingQueries">
                    <!-- Underperforming queries will be populated here -->
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.search-queries {
    padding: 1rem;
}

/* Query Stats */
.query-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.stat-card {
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--admin-radius-md);
    padding: 1rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.stat-icon {
    width: 40px;
    height: 40px;
    border-radius: var(--admin-radius-md);
    background: var(--admin-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1rem;
}

.stat-content {
    flex: 1;
}

.stat-value {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--admin-text-primary);
    margin-bottom: 0.25rem;
}

.stat-label {
    font-size: 0.75rem;
    color: var(--admin-text-secondary);
}

/* Query Tabs */
.query-tabs {
    background: var(--base);
    border: 1px solid var(--stroke-elements);
    border-radius: var(--_radius-lg);
    margin-bottom: 2rem;
}

.tabs-header {
    display: flex;
    gap: 0.25rem;
    padding: 1rem 1.5rem 0;
    border-bottom: 1px solid var(--stroke-elements);
}

.tab-btn {
    background: none;
    border: none;
    padding: 0.75rem 1rem;
    border-bottom: 2px solid transparent;
    color: var(--t-medium);
    font: normal 600 0.875rem/1.2 var(--_font-default);
    cursor: pointer;
    transition: all var(--_animspeed-medium) var(--_animbezier);
}

.tab-btn.active {
    color: var(--accent);
    border-bottom-color: var(--accent);
}

.tabs-content {
    padding: 1.5rem;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

/* Query List Header */
.query-list-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1.5rem;
}

.query-list-header h3 {
    font: normal 600 1.25rem/1.2 var(--_font-accent);
    color: var(--t-bright);
    margin: 0;
}

.query-filters select,
.query-filters input {
    padding: 0.25rem;
    border: 1px solid var(--stroke-elements);
    border-radius: var(--_radius-md);
    background: var(--background);
    color: var(--t-bright);
    font-size: 0.75rem;
}

.query-actions {
    display: flex;
    gap: 0.75rem;
}

.action-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border: 1px solid var(--stroke-elements);
    border-radius: var(--_radius-md);
    background: var(--accent);
    color: var(--t-opp-bright);
    font: normal 600 0.875rem/1.2 var(--_font-default);
    cursor: pointer;
    transition: all var(--_animspeed-medium) var(--_animbezier);
}

.action-btn:hover {
    background: var(--secondary);
}

/* Query List */
.query-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.query-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    border: 1px solid var(--stroke-elements);
    border-radius: var(--_radius-lg);
    transition: all var(--_animspeed-medium) var(--_animbezier);
    cursor: pointer;
}

.query-item:hover {
    transform: translateX(2px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.query-rank {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: var(--accent);
    color: var(--t-opp-bright);
    display: flex;
    align-items: center;
    justify-content: center;
    font: normal 700 1rem/1.2 var(--_font-accent);
}

.query-content {
    flex: 1;
}

.query-text {
    font: normal 600 1rem/1.2 var(--_font-default);
    color: var(--t-bright);
    margin-bottom: 0.25rem;
}

.query-meta {
    display: flex;
    gap: 1rem;
    font: normal 400 0.875rem/1.2 var(--_font-default);
    color: var(--t-medium);
}

.query-stats {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    min-width: 100px;
}

.query-stat {
    text-align: center;
}

.query-stat-value {
    font: normal 700 1rem/1.2 var(--_font-accent);
    color: var(--accent);
    display: block;
}

.query-stat-label {
    font: normal 400 0.75rem/1.2 var(--_font-default);
    color: var(--t-medium);
}

/* Query Insights */
.query-insights {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
}

.insight-card {
    background: var(--base);
    border: 1px solid var(--stroke-elements);
    border-radius: var(--_radius-lg);
    padding: 1.25rem;
}

.insight-header h3 {
    font: normal 600 1.125rem/1.2 var(--_font-accent);
    color: var(--t-bright);
    margin: 0 0 1rem 0;
}

.insight-chart {
    height: 150px;
    position: relative;
}

/* Intent Breakdown */
.intent-breakdown {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.intent-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem;
    background: var(--stroke-elements);
    border-radius: var(--_radius-md);
}

.intent-label {
    font: normal 500 1rem/1.2 var(--_font-default);
    color: var(--t-bright);
}

.intent-value {
    font: normal 600 1rem/1.2 var(--_font-default);
    color: var(--accent);
}

.intent-bar {
    height: 4px;
    background: var(--stroke-elements);
    border-radius: 2px;
    overflow: hidden;
    margin-top: 0.25rem;
}

.intent-fill {
    height: 100%;
    background: var(--accent);
    border-radius: 2px;
    transition: width var(--_animspeed-slow) var(--_animbezier);
}

/* Category Breakdown */
.category-breakdown {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 0.75rem;
}

.category-item {
    text-align: center;
    padding: 0.75rem;
    background: var(--stroke-elements);
    border-radius: var(--_radius-md);
}

.category-name {
    font: normal 500 0.875rem/1.2 var(--_font-default);
    color: var(--t-bright);
    margin-bottom: 0.25rem;
}

.category-count {
    font: normal 700 1.25rem/1.2 var(--_font-accent);
    color: var(--accent);
}

/* Query Performance */
.query-performance {
    background: var(--base);
    border: 1px solid var(--stroke-elements);
    border-radius: var(--_radius-lg);
    padding: 1.5rem;
}

.section-header h3 {
    font: normal 600 1.25rem/1.2 var(--_font-accent);
    color: var(--t-bright);
    margin: 0 0 1.5rem 0;
}

.performance-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
}

.performance-card {
    background: var(--stroke-elements);
    border-radius: var(--_radius-lg);
    padding: 1.25rem;
}

.performance-header h4 {
    font: normal 600 1.125rem/1.2 var(--_font-accent);
    color: var(--t-bright);
    margin: 0 0 0.25rem 0;
}

.performance-header p {
    font: normal 400 0.875rem/1.2 var(--_font-default);
    color: var(--t-medium);
    margin: 0 0 1rem 0;
}

.performance-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.performance-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem;
    background: var(--base);
    border-radius: var(--_radius-md);
}

.performance-query {
    font: normal 500 1rem/1.2 var(--_font-default);
    color: var(--t-bright);
}

.performance-metric {
    font: normal 600 1rem/1.2 var(--_font-default);
    color: var(--accent);
}

/* Responsive Design */
@media (max-width: 1024px) {
    .query-insights {
        grid-template-columns: 1fr;
    }

    .performance-grid {
        grid-template-columns: 1fr;
    }

    .tabs-header {
        flex-wrap: wrap;
    }
}

@media (max-width: 768px) {
    .search-queries {
        padding: 0.75rem;
    }

    .query-stats {
        grid-template-columns: 1fr;
    }

    .query-list-header {
        flex-direction: column;
        gap: 1rem;
        align-items: flex-start;
    }

    .query-item {
        flex-direction: column;
        text-align: center;
    }

    .query-meta {
        justify-content: center;
    }

    .intent-item {
        flex-direction: column;
        gap: 0.5rem;
        text-align: center;
    }

    .category-breakdown {
        grid-template-columns: 1fr;
    }
}
</style>

<script>
// Search Query Analysis
document.addEventListener('DOMContentLoaded', function() {
    initSearchQueries();
});

function initSearchQueries() {
    loadQueryAnalysisData();
    initTabNavigation();
    initFilters();
}

async function loadQueryAnalysisData() {
    try {
        const response = await fetch('/api/admin/search/queries');
        if (response.ok) {
            const data = await response.json();
            updateQueryStats(data.stats);
            updatePopularQueries(data.popular);
            updateTrendingQueries(data.trending);
            updateNoResultsQueries(data.noResults);
            updateLongTailQueries(data.longTail);
            updateAbandonedQueries(data.abandoned);
            updateQueryInsights(data.insights);
            updateQueryPerformance(data.performance);
        }
    } catch (error) {
        console.error('Error loading query analysis data:', error);
        showFallbackQueryData();
    }
}

function updateQueryStats(stats) {
    document.getElementById('uniqueQueries').textContent = stats.uniqueQueries.toLocaleString();
    document.getElementById('avgQueryLength').textContent = stats.avgQueryLength + ' words';
    document.getElementById('popularQuery').textContent = stats.popularQuery || '--';
    document.getElementById('peakSearchHour').textContent = stats.peakHour || '0:00';
}

function updatePopularQueries(queries) {
    const container = document.getElementById('popularQueries');
    container.innerHTML = queries.map((query, index) => `
        <div class="query-item" onclick="analyzeQuery('${query.text}')">
            <div class="query-rank">${index + 1}</div>
            <div class="query-content">
                <div class="query-text">${query.text}</div>
                <div class="query-meta">
                    <span>${query.searches.toLocaleString()} searches</span>
                    <span>${query.results.toLocaleString()} avg results</span>
                    <span>${query.ctr}% CTR</span>
                </div>
            </div>
            <div class="query-stats">
                <div class="query-stat">
                    <span class="query-stat-value">${query.conversions}</span>
                    <span class="query-stat-label">Conversions</span>
                </div>
            </div>
        </div>
    `).join('');
}

function updateTrendingQueries(queries) {
    const container = document.getElementById('trendingQueries');
    container.innerHTML = queries.map((query, index) => `
        <div class="query-item" onclick="analyzeQuery('${query.text}')">
            <div class="query-rank">${index + 1}</div>
            <div class="query-content">
                <div class="query-text">${query.text}</div>
                <div class="query-meta">
                    <span>+${query.growth}% growth</span>
                    <span>${query.currentSearches.toLocaleString()} this period</span>
                </div>
            </div>
            <div class="query-stats">
                <div class="query-stat">
                    <span class="query-stat-value">${query.trend}</span>
                    <span class="query-stat-label">Trend</span>
                </div>
            </div>
        </div>
    `).join('');
}

function updateNoResultsQueries(queries) {
    const container = document.getElementById('noResultsQueries');
    container.innerHTML = queries.map((query, index) => `
        <div class="query-item" onclick="analyzeQuery('${query.text}')">
            <div class="query-rank">${index + 1}</div>
            <div class="query-content">
                <div class="query-text">${query.text}</div>
                <div class="query-meta">
                    <span>${query.attempts} attempts</span>
                    <span>Last: ${formatTimeAgo(query.lastAttempt)}</span>
                </div>
            </div>
            <div class="query-stats">
                <div class="query-stat">
                    <span class="query-stat-value">${query.frequency}</span>
                    <span class="query-stat-label">Frequency</span>
                </div>
            </div>
        </div>
    `).join('');
}

function updateLongTailQueries(queries) {
    const container = document.getElementById('longTailQueries');
    container.innerHTML = queries.map((query, index) => `
        <div class="query-item" onclick="analyzeQuery('${query.text}')">
            <div class="query-rank">${index + 1}</div>
            <div class="query-content">
                <div class="query-text">${query.text}</div>
                <div class="query-meta">
                    <span>${query.wordCount} words</span>
                    <span>${query.searches.toLocaleString()} searches</span>
                </div>
            </div>
            <div class="query-stats">
                <div class="query-stat">
                    <span class="query-stat-value">${query.conversionRate}%</span>
                    <span class="query-stat-label">Conv. Rate</span>
                </div>
            </div>
        </div>
    `).join('');
}

function updateAbandonedQueries(queries) {
    const container = document.getElementById('abandonedQueries');
    container.innerHTML = queries.map((query, index) => `
        <div class="query-item" onclick="analyzeQuery('${query.text}')">
            <div class="query-rank">${index + 1}</div>
            <div class="query-content">
                <div class="query-text">${query.text}</div>
                <div class="query-meta">
                    <span>Abandoned after ${query.timeSpent}s</span>
                    <span>${query.characters} characters</span>
                </div>
            </div>
            <div class="query-stats">
                <div class="query-stat">
                    <span class="query-stat-value">${query.frequency}</span>
                    <span class="query-stat-label">Occurrences</span>
                </div>
            </div>
        </div>
    `).join('');
}

function updateQueryInsights(insights) {
    // Query length distribution chart
    const lengthCtx = document.getElementById('queryLengthChart').getContext('2d');
    new Chart(lengthCtx, {
        type: 'bar',
        data: {
            labels: insights.lengthDistribution.labels,
            datasets: [{
                label: 'Number of Queries',
                data: insights.lengthDistribution.values,
                backgroundColor: 'var(--accent)',
                borderRadius: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                }
            },
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    // Search intent breakdown
    const intentContainer = document.getElementById('searchIntent');
    intentContainer.innerHTML = insights.intentBreakdown.map(intent => `
        <div class="intent-item">
            <div class="intent-label">${intent.type}</div>
            <div class="intent-value">${intent.percentage}%</div>
            <div class="intent-bar">
                <div class="intent-fill" style="width: ${intent.percentage}%"></div>
            </div>
        </div>
    `).join('');

    // Query categories
    const categoryContainer = document.getElementById('queryCategories');
    categoryContainer.innerHTML = insights.categories.map(category => `
        <div class="category-item">
            <div class="category-name">${category.name}</div>
            <div class="category-count">${category.count}</div>
        </div>
    `).join('');
}

function updateQueryPerformance(performance) {
    // Top performing queries
    const topContainer = document.getElementById('topPerformingQueries');
    topContainer.innerHTML = performance.topPerforming.map(query => `
        <div class="performance-item">
            <div class="performance-query">${query.text}</div>
            <div class="performance-metric">${query.ctr}% CTR</div>
        </div>
    `).join('');

    // Underperforming queries
    const underContainer = document.getElementById('underperformingQueries');
    underContainer.innerHTML = performance.underperforming.map(query => `
        <div class="performance-item">
            <div class="performance-query">${query.text}</div>
            <div class="performance-metric">${query.ctr}% CTR</div>
        </div>
    `).join('');
}

function initTabNavigation() {
    document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            // Update active tab
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');

            // Update active content
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            const targetContent = document.getElementById(this.dataset.tab + '-tab');
            if (targetContent) {
                targetContent.classList.add('active');
            }
        });
    });
}

function initFilters() {
    // Popular queries time range
    document.getElementById('popularTimeRange').addEventListener('change', function() {
        loadPopularQueries(this.value);
    });

    // Trending period
    document.getElementById('trendingPeriod').addEventListener('change', function() {
        loadTrendingQueries(this.value);
    });

    // Min words for long-tail
    document.getElementById('minWords').addEventListener('change', function() {
        loadLongTailQueries(this.value);
    });

    // Abandoned type
    document.getElementById('abandonedType').addEventListener('change', function() {
        loadAbandonedQueries(this.value);
    });

    // Export no results
    document.getElementById('exportNoResultsBtn').addEventListener('click', exportNoResults);
}

async function loadPopularQueries(timeRange) {
    try {
        const response = await fetch(`/api/admin/search/queries/popular?period=${timeRange}`);
        if (response.ok) {
            const data = await response.json();
            updatePopularQueries(data.queries);
        }
    } catch (error) {
        console.error('Error loading popular queries:', error);
    }
}

async function loadTrendingQueries(period) {
    try {
        const response = await fetch(`/api/admin/search/queries/trending?period=${period}`);
        if (response.ok) {
            const data = await response.json();
            updateTrendingQueries(data.queries);
        }
    } catch (error) {
        console.error('Error loading trending queries:', error);
    }
}

async function loadLongTailQueries(minWords) {
    try {
        const response = await fetch(`/api/admin/search/queries/long-tail?minWords=${minWords}`);
        if (response.ok) {
            const data = await response.json();
            updateLongTailQueries(data.queries);
        }
    } catch (error) {
        console.error('Error loading long-tail queries:', error);
    }
}

async function loadAbandonedQueries(type) {
    try {
        const response = await fetch(`/api/admin/search/queries/abandoned?type=${type}`);
        if (response.ok) {
            const data = await response.json();
            updateAbandonedQueries(data.queries);
        }
    } catch (error) {
        console.error('Error loading abandoned queries:', error);
    }
}

function analyzeQuery(queryText) {
    // Open detailed analysis for the query
    showNotification(`Analyzing query: "${queryText}"`, 'info');
}

function exportNoResults() {
    showNotification('Exporting queries with no results...', 'info');
    // Implement export functionality
}

function formatTimeAgo(timestamp) {
    const now = new Date();
    const time = new Date(timestamp);
    const diff = now - time;

    const minutes = Math.floor(diff / 60000);
    const hours = Math.floor(diff / 3600000);
    const days = Math.floor(diff / 86400000);

    if (minutes < 1) return 'now';
    if (minutes < 60) return `${minutes}m ago`;
    if (hours < 24) return `${hours}h ago`;
    return `${days}d ago`;
}

function showNotification(message, type = 'info') {
    // Use global notification system
    console.log(`${type.toUpperCase()}: ${message}`);
}

function showFallbackQueryData() {
    // Show sample data when API is not available
    updateQueryStats({
        uniqueQueries: 5432,
        avgQueryLength: 2.8,
        popularQuery: 'artificial intelligence',
        peakHour: '14:00'
    });
}
</script>